<div class="container">
  <div class="row">

    <div class="row">
      <div class="col-lg-6">
        Mnemônico: <span class="required-input">(*)</span>
        {{inputs/generic-input
          value=tipoProduto.mnemonico
          maxlength=10
          actionOnFimValidacao="actValidarMnemonico"}}
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        Nome: <span class="required-input">(*)</span>
        {{inputs/generic-input
          value=tipoProduto.nome
          maxlength=255
          actionOnFimValidacao="actValidarNome"}}
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        Descrição: <span class="required-input">(*)</span>
        {{inputs/generic-input
          value=tipoProduto.nome
          maxlength=255
          actionOnFimValidacao="actValidarDescricao"}}
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        Categoria: <span class="required-input">(*) AUTOCOMPLETE</span>
        {{inputs/generic-input
          value=model.nome
          maxlength=255
          actionOnFimValidacao="actValidarNome"
          disabled=true}}
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        Unidade de Saída: <span class="required-input">(*) AUTOCOMPLETE</span>
        {{inputs/generic-input
          value=model.nome
          maxlength=255
          actionOnFimValidacao="actValidarNome"
          disabled=true}}
      </div>
    </div>

    <div class="row">
      <div class="col-lg-5">
        Estoque Mínimo: <span class="required-input">(*)</span>
        {{inputs/numeric-input
          value=model.estoqueMinimo
          actionOnFimValidacao="actValidarEstoqueMinimo"}}
      </div>
    </div>

    <div class="row">
      <div class="col-lg-5">
        Ponto de Compra: <span class="required-input">(*)</span>
        {{inputs/numeric-input
          value=model.pontoCompra
          actionOnFimValidacao="actValidarPontoCompra"}}
      </div>
    </div>

    <div class="row">
      <div class="col-lg-5">
        Estoque Ideal: <span class="required-input">(*)</span>
        {{inputs/numeric-input
          value=model.estoqueIdeal
          actionOnFimValidacao="actValidarEstoqueIdeal"}}
      </div>
    </div>

    <div class="row">
      <div class="col-lg-2">
        Status: <span class="required-input">(*)</span>
        {{select-options-ativo-inativo
          class="form-control"
          actionOnChange="actValidarStatusTipoProduto"}}
      </div>
    </div>

  </div>

  <hr>

  <div class="row">

    <ul class="nav nav-tabs" role="tablist">

      {{#each tipoProduto.produtos as |produto index|}}
        <li role="presentation">
          <a id="btn-aba-produto-{{index}}" href="#tab-produto-{{index}}" aria-controls="home" role="tab" data-toggle="tab">
            {{produto.nome}}
            {{#unless possuiUnicoProduto}}
            <a id="btn-fechar-produto-{{index}}" {{action "actFecharAbaProduto" index}}><i class="fa fa-close"></i> </a>
            {{/unless}}
        </a>
        </li>
      {{/each }}

      <li role="presentation">
        <a {{action "actCriarNovaAbaProduto"}}>
          <i class="fa fa-plus"></i>
        </a>
      </li>

    </ul>

    <div class="tab-content">

      {{#each tipoProduto.produtos as |produto index| }}

      <div role="tabpanel" class="tab-pane" id="tab-produto-{{index}}">

        <br>

        <div class="row">
          <div class="col-lg-5">
            Nome: <span class="required-input">(*)</span>
            {{inputs/generic-input
              value=produto.nome
              maxlength=255
              actionOnFimValidacao="actValidarNome"}}
          </div>
        </div>

        <div class="row">
          <div class="col-lg-5">
            Descrição:
            {{textarea class="form-control"}}
          </div>
        </div>

        <div class="row">
          <div class="col-lg-5">
            Marca:  AUTOCOMPLETE
            {{inputs/generic-input
              value=model.nome
              maxlength=255
              actionOnFimValidacao="actValidarNome"}}
          </div>
        </div>

        <div class="row">
          <div class="col-lg-5">
            Modelo:
            {{inputs/generic-input
              value=model.nome
              maxlength=255
              actionOnFimValidacao="actValidarNome"}}
          </div>
        </div>

        <br>
        <hr>
        <div class="row">
          <div class="col-lg-2">
            Fornecedores:
          </div>

          {{#unless produto.fornecedores.length}}
          <div class="col-lg-3">
            <button class="btn btn-default btn-xs" {{action "actAdicionarFornecedor" produto}}><i class="fa fa-plus"></i>&nbsp;Adicionar fornecedor</button>
          </div>
          {{/unless}}

        </div>

        {{#each produto.fornecedores as |fornecedor index|}}
          <div class="row">
            <div class="col-lg-3">
              Nome: <span class="required-input">(*) AUTOCOMPLETE</span>
              {{inputs/generic-input
                value=model.nome
                maxlength=255
                actionOnFimValidacao="actValidarNome"}}
            </div>
            <div class="col-lg-3">
              Código: <span class="required-input">(*)</span>
              {{inputs/generic-input
                value=model.nome
                maxlength=255
                actionOnFimValidacao="actValidarNome"}}
            </div>
            <div class="col-lg-3">
              Observações: <span class="required-input">(*)</span>
              {{inputs/generic-input
                value=model.nome
                maxlength=255
                actionOnFimValidacao="actValidarNome"}}
            </div>
            <div class="col-lg-3">
              <button class="btn btn-default btn-md" {{action "actExcluirLinhaFornecedor" produto index fornecedor}}><i class="fa fa-close"></i></button>
            </div>
          </div>
        {{/each}}

        {{#if produto.fornecedores}}
        <br>
        <div class="row">
        <div class="col-lg-3">
          <button class="btn btn-default btn-xs" {{action "actAdicionarFornecedor" produto}}><i class="fa fa-plus"></i>&nbsp;Adicionar fornecedor</button>
        </div>
        </div>
        {{/if}}

        <hr>

        <div class="row">
          <div class="col-lg-2">
            Unidades de Entrada:
          </div>

          {{#unless produto.unidadesMedidaEntrada.length}}
          <div class="col-lg-3">
            <button class="btn btn-default btn-xs" {{action "actAdicionarUnidadeEntrada" produto}}><i class="fa fa-plus"></i>&nbsp;Adicionar unidade de entrada</button>
          </div>
          {{/unless}}

        </div>

        {{#each produto.unidadesMedidaEntrada as |unidadeMedidaEntrada index|}}
        <div class="row">
          <div class="col-lg-3">
            Nome: <span class="required-input">(*)</span>
            {{inputs/generic-input
              value=model.nome
              maxlength=255
              actionOnFimValidacao="actValidarNome"}}
          </div>
          <div class="col-lg-1">
            <span>=</span>
          </div>
          <div class="col-lg-1">
            {{inputs/generic-input
              value=model.nome
              maxlength=255
              actionOnFimValidacao="actValidarNome"}}
          </div>
          <div class="col-lg-7">
            <button class="btn btn-default btn-md" {{action "actMoverUnidadeCima" produto index unidadeMedidaEntrada}}><i class="fa fa-arrow-up"></i></button>
            <button class="btn btn-default btn-md" {{action "actMoverUnidadeBaixo" produto index unidadeMedidaEntrada}}><i class="fa fa-arrow-down"></i></button>
            <button class="btn btn-default btn-md" {{action "actExcluirLinhaUnidadeEntrada" produto index unidadeMedidaEntrada}}><i class="fa fa-close"></i></button>
          </div>
        </div>
        {{/each}}

        {{#if produto.unidadesMedidaEntrada}}
        <br>
        <div class="row">
        <div class="col-lg-3">
          <button class="btn btn-default btn-xs" {{action "actAdicionarUnidadeEntrada" produto}}><i class="fa fa-plus"></i>&nbsp;Adicionar unidade de entrada</button>
        </div>
        </div>
        {{/if}}

        <hr>

        <div class="row">
          <div class="col-lg-2">
            Status: <span class="required-input">(*)</span>
            {{select-options-ativo-inativo
              class="form-control"
              actionOnChange="actValidarStatusProduto"}}
          </div>
        </div>

      </div>

      {{/each}}

    </div>

    <br>

    <hr>

    <div class="row">
      <div class="col-lg-12">
        {{#link-to "tipos-de-produto" class="btn btn-default"}}<i class="fa fa-long-arrow-left"></i>&nbsp;Voltar{{/link-to}}
        <button class="btn btn-primary pull-right" type="submit"><i class="fa fa-floppy-o"></i>&nbsp;Salvar</button>
      </div>
    </div>

    <br>

    <div class="row">
      <div class="col-lg-12">
        {{bootstrap/box-alert}}
      </div>
    </div>

  </div>
</div>
